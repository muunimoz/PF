<div class="container-fluid">
  <div class="row">
    <div class="mx-auto col-11 col-sm-10 col-lg-8 col-xl-6">
      <h2>ALL</h2>
      <%=link_to "新規投稿", new_post_path, class: "btn btn-info" %>

      <%= form_with(url: search_posts_path, local: true, method: :get ) do |f| %>
        <%= f.text_field :keyword %>
        <%= f.select :area_name, options_from_collection_for_select( Area.all, :area_name, :area_name), {prompt: "選択してください"} %>
        <%= f.select :temperature_name, options_from_collection_for_select( Temperature.all, :temperature_name, :temperature_name), {prompt: "選択してください"} %>
        <%= f.submit "検索", class: "btn btn-secondary" %>
      <% end %>
    </div>
  </div>


  <div class="row py-5 mx-auto mt-4 pr-4 shadow-lg w-50 d-flex align-items-center justify-content-start ">
    <% @posts.each do |post| %>
      <div class="col-4 mt-2">
        <%= link_to image_tag(post.get_image(300,300)), post_path(post.id) %>
        <%= link_to user_path(post.user.id) do %>
          <div class="row">
            <div class="col-2">
              <%= image_tag post.user.get_profile_image(50,50), class: "rounded-circle"; %>
            </div>
            <div class="col-8">
              <p class="mt-2"> By <%= post.user.name %> </p>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>
    <div class="row align-items-center justify-content-center">
    <%= paginate @posts %>
    </div>
  </div>
</div>